---
description: このプロジェクトでは、エージェントがファイルを編集したら、応答の最後に必ずステージ・コミット・push を実行する
globs: Doc/**/*.md, Lesson*/**/*.html, .cursor/rules/**/*
alwaysApply: true
---

# ファイル更新ルール（Git 運用）

このプロジェクトでは、**Cursor エージェントがファイルを編集した場合、その応答の最後に必ず次のコマンドを実行する**。

1. **変更点の概要をコミットメッセージに書く**（どのファイルをどう変更したか、短い概要）
2. **ステージ**： `git add .`
3. **コミット**： `git commit -m "変更の概要"`
4. **push**： `git push`

- 実行時は **git_write** と **network** の権限を要求する。ユーザーが許可をクリックすると実行される。
- 複数ファイルの変更は 1 回のコミットにまとめる。個人・バックアップ用途のため、作業完了ごとにすぐ実行してよい。

**AI に依頼しても commit/push されない場合**： エージェントがコマンドを実行するときに「git_write」「network」の許可を求めることがある。その許可をクリックすると実行される。手動で実行する場合は、プロジェクトルートで `.\scripts\commit-and-push.ps1 "コミットメッセージ"` を実行する。

詳細は `Doc/ファイル更新ルール.md` を参照すること。

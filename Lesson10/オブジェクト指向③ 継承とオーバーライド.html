【テキスト】 オブジェクト指向③ ～継承とオーバーライド～
<div style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;">
<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">継承とオーバーライド（この単元）— Lesson 10・約2時間</h1>

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">この単元の前に：オブジェクト指向の復習</h2>
<p>前回は「コンストラクタ」と「カプセル化」を自販機で学びました。その部分を短くおさらいします。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">復習：前回までに学んだこと</h3>
<div style="background-color: #f0f8ff; padding: 20px; border-radius: 5px; border-left: 5px solid #0033ff;">
<div style="margin: 15px 0; background-color: #fff; padding: 15px; border-radius: 10px; border: 1px solid #e1dbbd;">
<ul style="padding-left: 20px; margin-bottom: 0;">
<li style="margin-bottom: 10px;"><strong>コンストラクタ</strong> — <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">new クラス名()</code> でインスタンスが作られるときに一度だけ実行される特別なメソッド。クラス名と同じ名前で、初期値をセットする。</li>
<li style="margin-bottom: 10px;"><strong>カプセル化</strong> — フィールドを <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">private</code> にして、getter・setter からだけ操作する。</li>
<li><strong>VendingMachine</strong> — 飲み物の名前（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code>）と在庫（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code>）を持ち、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> で購入できる自販機クラスとしてここまで拡張してきた。</li>
</ul>
</div>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">この単元で学ぶことのイメージ</h3>
<p style="margin-bottom: 10px;">この単元では「継承」と「オーバーライド」を学びます。</p>
<div style="background-color: #f0f8ff; padding: 20px; border-radius: 5px; border-left: 5px solid #0033ff;">
<div style="margin: 15px 0; background-color: #fff; padding: 15px; border-radius: 10px; border: 1px solid #e1dbbd;">
<ul style="padding-left: 20px; margin-bottom: 0;">
<li style="margin-bottom: 10px;"><strong>継承</strong> — 既存のクラス（親）を土台に、新しいクラス（子）を「拡張」して作る仕組み。サブクラスはスーパークラスのフィールド・メソッドをそのまま使える。</li>
<li><strong>オーバーライド</strong> — スーパークラスが持つメソッドを、サブクラスで「同じ名前・同じ引数」で書き直すこと。サブクラスの動きをスーパークラスと変えられる。</li>
</ul>
</div>
<p style="margin-bottom: 0; font-size: 14px;">自販機を「共通の動き」をベースにしつつ、「商品を2つ扱う」「カップ麺でお湯もチェックする」などの違いをサブクラスで表すイメージで進めます。</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【1】具体的な学習目標</h2>
<p>この単元を終えたとき、以下のことができればゴールです。</p>
<p><strong>【必須】</strong></p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;">継承の役割（スーパークラスの機能を引き継いでサブクラスで拡張すること）を説明できる。</li>
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends</code> を使って、自販機クラスを継承したサブクラスを書ける。</li>
<li style="margin-bottom: 10px;">オーバーライドの役割（スーパークラスのメソッドをサブクラスで上書きすること）を説明できる。</li>
<li style="margin-bottom: 10px;">スーパークラスと同じ名前・同じ引数のメソッドをサブクラスで定義し、オーバーライドできる。</li>
</ul>
<p><strong>【オプション】</strong></p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super</code> でスーパークラスのコンストラクタやメソッドを呼び出せる。</li>
</ul>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【2】導入：自販機の「型」を広げる</h2>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888; margin-bottom: 10px;">
<p style="margin: 0;"><strong>カバ先生：</strong>「ここまでで、自販機クラスにコンストラクタとカプセル化を入れたね。次は『共通の流れは同じで、ところどころだけ違う』というケースを継承とオーバーライドで表したい。例えば『商品を2つ扱える自販機』と『カップ麺でお湯もチェックする自販機』は、同じ buy() を呼ぶけど中の挙動が変わるよ。」</p>
</div>
<div style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ナナコ：</strong>「同じ buy() を呼んでいても、どの商品を選んだか、お湯が足りるか、などで表示が変わるってことですね。」</p>
</div>
<div style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ユウタ：</strong>「共通の流れは同じで、ところどころだけサブクラスで書き換えるのがオーバーライド？」</p>
</div>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888;">
<p style="margin: 0;"><strong>カバ先生：</strong>「そうそう。共通の骨組みはスーパークラスに置いて、差分をサブクラスでオーバーライドするやり方を見ていこう。」</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【3】継承とは</h2>
<p>継承では、<strong>既存のクラス（スーパークラス）</strong>を土台に、<strong>新しいクラス（サブクラス）</strong>を定義します。サブクラスは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends スーパークラス名</code> と書くだけで、スーパークラスのフィールドとメソッドをそのまま使えます。</p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><strong>スーパークラス</strong> — 継承の元になるクラス。</li>
<li style="margin-bottom: 10px;"><strong>サブクラス</strong> — スーパークラスを継承したクラス。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">class サブクラス名 extends スーパークラス名 { ... }</code> と書く。</li>
<li style="margin-bottom: 10px;">サブクラスはスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">public</code> なメソッド・フィールドを引き継ぐ。サブクラスだけで追加のフィールドやメソッドも持てる。</li>
</ul>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">サンプル：VendingMachine を継承した VendingHotNoodle（カップ麺用自販機）</h3>
<p>スーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine</code> は、「水」などの飲み物を売る自販機だと思ってください。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code>・<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> を持っているとします。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// スーパークラス（ベースとなる自販機）</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> VendingMachine {
    <span style="color: #0033ff;">private</span> String name;
    <span style="color: #0033ff;">private</span> <span style="color: #0033ff;">int</span> stock;

    <span style="color: #0033ff;">public</span> VendingMachine(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">this</span>.name = name;
        <span style="color: #0033ff;">this</span>.stock = stock;
    }

    <span style="color: #0033ff;">public</span> String getName() { <span style="color: #0033ff;">return</span> name; }
    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">int</span> getStock() { <span style="color: #0033ff;">return</span> stock; }

    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> buy() {
        <span style="color: #0033ff;">if</span> (stock > 0) {
            System.out.println(name + <span style="color: #cc0000;">"を購入しました"</span>);
            stock--;
        } <span style="color: #0033ff;">else</span> {
            System.out.println(<span style="color: #cc0000;">"売り切れです"</span>);
        }
    }
}

<span style="color: #666;">// サブクラス：VendingMachine を継承（カップ麺用）</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> VendingHotNoodle <span style="color: #0033ff;">extends</span> VendingMachine {

    <span style="color: #0033ff;">public</span> VendingHotNoodle(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">super</span>(name, stock);  <span style="color: #666;">// スーパークラスのコンストラクタを呼ぶ</span>
    }
}</pre>
<p>サブクラスでは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(引数)</code> でスーパークラスのコンストラクタを必ず呼びます。こうするとスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code> が初期化されます。サブクラスはスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> をそのまま使えます。</p>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【4】オーバーライドとは</h2>
<p>オーバーライドは、<strong>スーパークラスが持つメソッドを、サブクラスで「同じ名前・同じ引数」で定義し直す</strong>ことです。サブクラスのインスタンスでそのメソッドを呼ぶと、スーパークラスの処理ではなくサブクラスの処理が実行されます。</p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;">スーパークラスのメソッドと<strong>名前・引数の型・並び</strong>を同じにする。</li>
<li style="margin-bottom: 10px;">戻り値の型もスーパークラスと同じにする（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">void</code> なら <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">void</code>）。</li>
<li style="margin-bottom: 10px;">オーバーライドであることを明示するために、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">@Override</code> をメソッドの直前に書く習慣がある（省略可能）。</li>
</ul>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">サンプル：オーバーライドと super</h3>
<p>サブクラスで <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> をオーバーライドするとき、中で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.buy()</code> を呼ぶと、<strong>スーパークラス（もとの自販機）の買い方</strong>がそのまま使えます。つまり、在庫を減らす処理などを書き直さずに、「元の水を購入する」動きを利用できます。くわしい書き方は練習問題で慣れていきましょう。</p>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【5】super でスーパークラスのメソッドを呼ぶ</h2>
<p>オーバーライドしたメソッドの中から、<strong>スーパークラスの同じメソッド</strong>を呼びたいときは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.メソッド名(引数)</code> と書きます。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.buy()</code> を呼べば、もとの自販機の「水を購入する」動き（在庫を減らすなど）がそのまま使えるので、<strong>元の水を購入することができます</strong>。くわしい使い方は練習問題で慣れていきましょう。</p>
<div style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-top: 15px;">
<p style="margin: 0;"><strong>ユウタ：</strong>「<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super</code> はスーパークラスのコンストラクタを呼ぶときと、スーパークラスのメソッドを呼ぶときの両方で使うんだね。」</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【6】練習問題（継承）</h2>
<div>
<strong>【問題0】基本クラスを継承したサブクラスを作る</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine</code> を継承した <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">HotDrinkMachine</code>（温飲料用自販機）クラスを作成してください。コンストラクタは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">HotDrinkMachine(String name, int stock)</code> とし、その中で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(name, stock)</code> を呼んでください。ほかにメソッドを追加する必要はありません。
</div>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p>クラス宣言は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">public class HotDrinkMachine extends VendingMachine</code> と書きます。コンストラクタの先頭で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(name, stock);</code> を呼びます。</p>
</details>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> HotDrinkMachine <span style="color: #0033ff;">extends</span> VendingMachine {

    <span style="color: #0033ff;">public</span> HotDrinkMachine(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">super</span>(name, stock);
    }
}</pre>
</details>
<br><br>
<div>
<strong>【問題1】2商品自販機のサブクラスを作る</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Vending2Item</code> を作成してください。コンストラクタで商品1・商品2の名前と在庫を受け取り、内部で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setSelect(1)</code> にしてデフォルト選択を1番にしてください。
</div>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p>サブクラスで <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">beforeBuy()</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">dispense()</code> をオーバーライドします。選択が1のときは商品1の在庫を、2のときは商品2の在庫を if でチェックします。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// ヒント用の穴埋めコード（イメージ）</span>
@Override
<span style="color: #0033ff;">protected boolean</span> beforeBuy() {
    <span style="color: #0033ff;">if</span> (getSelect() == 1) {
        <span style="color: #0033ff;">// ここで stock1 をチェックして減らす</span>
    } <span style="color: #0033ff;">else</span> {
        <span style="color: #0033ff;">// ここで stock2 をチェックして減らす</span>
    }
    <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">true</span>;  <span style="color: #666;">// 条件に合わないときは false を返す</span>
}

@Override
<span style="color: #0033ff;">protected void</span> dispense() {
    <span style="color: #0033ff;">if</span> (getSelect() == 1) {
        <span style="color: #0033ff;">// 商品1の名前を表示</span>
    } <span style="color: #0033ff;">else</span> {
        <span style="color: #0033ff;">// 商品2の名前を表示</span>
    }
}</pre>
</details>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">@Override
<span style="color: #0033ff;">protected boolean</span> beforeBuy() {
    <span style="color: #0033ff;">if</span> (getSelect() == 1) {
        <span style="color: #0033ff;">if</span> (stock1 <= 0) {
            System.out.println(name1 + <span style="color: #cc0000;">"は売り切れです"</span>);
            <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">false</span>;
        }
        stock1--;
    } <span style="color: #0033ff;">else</span> {
        <span style="color: #0033ff;">if</span> (stock2 <= 0) {
            System.out.println(name2 + <span style="color: #cc0000;">"は売り切れです"</span>);
            <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">false</span>;
        }
        stock2--;
    }
    <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">true</span>;
}

@Override
<span style="color: #0033ff;">protected void</span> dispense() {
    <span style="color: #0033ff;">if</span> (getSelect() == 1) {
        System.out.println(name1 + <span style="color: #cc0000;">"を販売します"</span>);
    } <span style="color: #0033ff;">else</span> {
        System.out.println(name2 + <span style="color: #cc0000;">"を販売します"</span>);
    }
}</pre>
</details>
<br><br>
<div>
<strong>【問題2】カップ麺自販機でメソッドを分けて使う</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingHotNoodle</code> を作成し、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">beforeBuy()</code> / <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">hotWaterServe()</code> / <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">dispense()</code> をオーバーライドしてください。お湯が足りない場合は販売を中断し、足りる場合は在庫とお湯量を減らして提供メッセージを出してください。
</div>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p>在庫と水量の2つを if でチェックし、条件を満たしたときだけ在庫・水量を減らします。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">hotWaterServe()</code> では「お湯を注ぎます」を表示し、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">dispense()</code> で「カップ麺を提供します」を表示します。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// ヒント用の穴埋めコード（イメージ）</span>
@Override
<span style="color: #0033ff;">protected boolean</span> beforeBuy() {
    <span style="color: #0033ff;">// 在庫があるかをチェック</span>
    <span style="color: #0033ff;">// お湯が足りるかをチェック</span>
    <span style="color: #0033ff;">// 条件を満たしたら在庫とお湯量を減らす</span>
    <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">true</span>;  <span style="color: #666;">// 条件に合わないときは false を返す</span>
}

@Override
<span style="color: #0033ff;">protected void</span> hotWaterServe() {
    <span style="color: #0033ff;">// 「お湯を注ぎます」を表示</span>
}

@Override
<span style="color: #0033ff;">protected void</span> dispense() {
    <span style="color: #0033ff;">// 「カップ麺を提供します」を表示</span>
}</pre>
</details>
<details style="margin: 0.5em 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">@Override
<span style="color: #0033ff;">protected boolean</span> beforeBuy() {
    <span style="color: #0033ff;">if</span> (stock <= 0) {
        System.out.println(name + <span style="color: #cc0000;">"は売り切れです"</span>);
        <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">false</span>;
    }
    <span style="color: #0033ff;">if</span> (waterVolume < requiredWater) {
        System.out.println(<span style="color: #cc0000;">"お湯が足りません"</span>);
        <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">false</span>;
    }
    stock--;
    waterVolume = waterVolume - requiredWater;
    <span style="color: #0033ff;">return</span> <span style="color: #0033ff;">true</span>;
}

@Override
<span style="color: #0033ff;">protected void</span> hotWaterServe() {
    System.out.println(<span style="color: #cc0000;">"お湯を注ぎます"</span>);
}

@Override
<span style="color: #0033ff;">protected void</span> dispense() {
    System.out.println(name + <span style="color: #cc0000;">"を提供します"</span>);
}</pre>
</details>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【7】まとめのおさらい</h2>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><strong>継承</strong> — <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends スーパークラス名</code> でサブクラスがスーパークラスの機能を引き継ぐ。サブクラスのコンストラクタでは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(引数)</code> でスーパークラスのコンストラクタを呼ぶ。</li>
<li style="margin-bottom: 10px;"><strong>オーバーライド</strong> — スーパークラスと同じ名前・同じ引数のメソッドをサブクラスで定義し直す。サブクラスのインスタンスではそのメソッドを呼ぶとサブクラスの処理が実行される。</li>
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.メソッド名(引数)</code> でスーパークラスのメソッドを呼べる。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">@Override</code> はオーバーライドであることを示す注釈。</li>
</ul>
<div style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ナナコ：</strong>「自販機の種類を継承で増やして、buy() の表示をオーバーライドで変える。同じ型で扱いながら動きを変えられそう。」</p>
</div>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888;">
<p style="margin: 0;"><strong>カバ先生：</strong>「次は、抽象クラスやインタフェースで『型の決まり』を学んで、同じ型でいろいろな自販機を扱う多態性に進んでいこう！」</p>
</div>
</section>
</div>

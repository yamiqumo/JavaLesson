<!DOCTYPE html>
<!-- 講義用PDF：ブラウザで開き「印刷」→「PDFに保存」で出力。1ページ目は振り返り用の白紙、【1】〜【7】はキリのいいところで改ページ。 -->
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>第10回 継承とオーバーライド（講義用）</title>
<style>
  body { font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; background: #fff; }
  .review-page { page-break-after: always; min-height: 100vh; box-sizing: border-box; }
  .review-page h1 { padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 20px; }
  .review-blank { min-height: 75vh; border: 2px dashed #ccc; background: #fff; margin-top: 20px; }
  @media print {
    body { max-width: 100%; }
    .review-page { min-height: 100vh; page-break-after: always; }
    .review-blank { min-height: 75vh; border: 1px dashed #999; }
    section { page-break-inside: avoid; }
    pre { page-break-inside: avoid; }
    .section-new-page { page-break-before: always; }
    h2 { page-break-after: avoid; }
  }
</style>
</head>
<body>

<!-- ========== 1ページ目：振り返り用 大きな白紙スペース ========== -->
<div class="review-page">
  <h1>第10回 継承とオーバーライド — 振り返り</h1>
  <p>この単元の前に、前回までの内容を振り返りましょう。下のスペースに図やメモを書いてもかまいません。</p>
  <div class="review-blank" aria-label="振り返り用の白紙スペース"></div>
</div>

<!-- ========== 2ページ目以降：本編（キリのいいところで改ページ） ========== -->
<div style="max-width: 800px; margin: 0 auto;">

<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">継承とオーバーライド（この単元）— Lesson 10・約2時間</h1>

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">この単元の前に：オブジェクト指向の復習</h2>
<p>前回は「コンストラクタ」と「カプセル化」を自販機で学びました。その部分を短くおさらいします。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">復習：前回までに学んだこと</h3>
<div style="background-color: #f0f8ff; padding: 20px; border-radius: 5px; border-left: 5px solid #0033ff;">
<div style="margin: 15px 0; background-color: #fff; padding: 15px; border-radius: 10px; border: 1px solid #e1dbbd;">
<ul style="padding-left: 20px; margin-bottom: 0;">
<li style="margin-bottom: 10px;"><strong>コンストラクタ</strong> — <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">new クラス名()</code> でインスタンスが作られるときに一度だけ実行される特別なメソッド。クラス名と同じ名前で、初期値をセットする。</li>
<li style="margin-bottom: 10px;"><strong>カプセル化</strong> — フィールドを <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">private</code> にして、getter・setter からだけ操作する。</li>
<li><strong>VendMachine</strong> — 飲み物の名前（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code>）と在庫（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code>）を持ち、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> で購入できる自販機クラスとしてここまで拡張してきた。</li>
</ul>
</div>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">この単元で学ぶことのイメージ</h3>
<p style="margin-bottom: 10px;">この単元では「継承」と「オーバーライド」を学びます。</p>
<div style="background-color: #f0f8ff; padding: 20px; border-radius: 5px; border-left: 5px solid #0033ff;">
<div style="margin: 15px 0; background-color: #fff; padding: 15px; border-radius: 10px; border: 1px solid #e1dbbd;">
<ul style="padding-left: 20px; margin-bottom: 0;">
<li style="margin-bottom: 10px;"><strong>継承</strong> — 既存のクラス（スーパークラス）を土台に、新しいクラス（サブクラス）を「拡張」して作る仕組み。サブクラスはスーパークラスのフィールド・メソッドをそのまま使える。</li>
<li><strong>オーバーライド</strong> — スーパークラスが持つメソッドを、サブクラスで「同じ名前・同じ引数」で書き直すこと。サブクラスの動きをスーパークラスと変えられる。</li>
</ul>
</div>
<p style="margin-bottom: 0; font-size: 14px;">自販機を「普通の自販機」と「冷飲料専用機」「温飲料専用機」のように種類で広げるイメージで進めます。</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【1】具体的な学習目標</h2>
<p>この単元を終えたとき、以下のことができればゴールです。</p>
<p><strong>【必須】</strong></p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;">継承の役割（スーパークラスの機能を引き継いでサブクラスで拡張すること）を説明できる。</li>
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends</code> を使って、自販機クラスを継承したサブクラスを書ける。</li>
<li style="margin-bottom: 10px;">オーバーライドの役割（スーパークラスのメソッドをサブクラスで上書きすること）を説明できる。</li>
<li style="margin-bottom: 10px;">スーパークラスと同じ名前・同じ引数のメソッドをサブクラスで定義し、オーバーライドできる。</li>
</ul>
<p><strong>【オプション】</strong></p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super</code> でスーパークラスのコンストラクタやメソッドを呼び出せる。</li>
</ul>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【2】導入：自販機の「型」を広げる</h2>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888; margin-bottom: 10px;">
<p style="margin: 0;"><strong>カバ先生：</strong>「ここまでで、自販機クラスにコンストラクタとカプセル化を入れたね。次は『自販機にもいろいろ種類がある』ところをプログラムで表現したい。例えば『冷えた飲み物だけ売る自販機』と『温かい飲み物だけ売る自販機』だと、買ったときのメッセージを『冷えてます』『温かくしてお渡しします』のように変えたい。そんなときに使うのが継承とオーバーライドだよ。」</p>
</div>
<div style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ナナコ：</strong>「スーパークラスの自販機を土台にして、『冷飲料用』『温飲料用』のサブクラスを作る、ってことですね。」</p>
</div>
<div style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ユウタ：</strong>「サブクラスで <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> の表示だけ変えるのがオーバーライド？」</p>
</div>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888;">
<p style="margin: 0;"><strong>カバ先生：</strong>「その通り。まずは継承の書き方から見ていこう。」</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【3】継承とは</h2>
<p>継承では、<strong>既存のクラス（スーパークラス）</strong>を土台に、<strong>新しいクラス（サブクラス）</strong>を定義します。サブクラスは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends スーパークラス名</code> と書くだけで、スーパークラスのフィールドとメソッドをそのまま使えます。</p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><strong>スーパークラス</strong> — 継承の元になるクラス。</li>
<li style="margin-bottom: 10px;"><strong>サブクラス</strong> — スーパークラスを継承したクラス。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">class サブクラス名 extends スーパークラス名 { ... }</code> と書く。</li>
<li style="margin-bottom: 10px;">サブクラスはスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">public</code> なメソッド・フィールドを引き継ぐ。サブクラスだけで追加のフィールドやメソッドも持てる。</li>
</ul>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">サンプル：VendMachine を継承した ColdVendMachine（冷飲料専用機）</h3>
<p>スーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendMachine</code> は、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code>・<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> を持っているとします。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// スーパークラス</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> VendMachine {
    <span style="color: #0033ff;">private</span> String name;
    <span style="color: #0033ff;">private</span> <span style="color: #0033ff;">int</span> stock;

    <span style="color: #0033ff;">public</span> VendMachine(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">this</span>.name = name;
        <span style="color: #0033ff;">this</span>.stock = stock;
    }

    <span style="color: #0033ff;">public</span> String getName() { <span style="color: #0033ff;">return</span> name; }
    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">int</span> getStock() { <span style="color: #0033ff;">return</span> stock; }

    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> buy() {
        <span style="color: #0033ff;">if</span> (stock > 0) {
            System.out.println(name + <span style="color: #cc0000;">"を購入しました"</span>);
            stock--;
        } <span style="color: #0033ff;">else</span> {
            System.out.println(<span style="color: #cc0000;">"売り切れです"</span>);
        }
    }
}

<span style="color: #666;">// サブクラス：VendMachine を継承</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> ColdVendMachine <span style="color: #0033ff;">extends</span> VendMachine {

    <span style="color: #0033ff;">public</span> ColdVendMachine(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">super</span>(name, stock);  <span style="color: #666;">// スーパークラスのコンストラクタを呼ぶ</span>
    }
}</pre>
<p>サブクラスでは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(引数)</code> でスーパークラスのコンストラクタを必ず呼びます。こうするとスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">stock</code> が初期化されます。サブクラスはスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> をそのまま使えます。</p>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【4】オーバーライドとは</h2>
<p>オーバーライドは、<strong>スーパークラスが持つメソッドを、サブクラスで「同じ名前・同じ引数」で定義し直す</strong>ことです。サブクラスのインスタンスでそのメソッドを呼ぶと、スーパークラスの処理ではなくサブクラスの処理が実行されます。</p>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;">スーパークラスのメソッドと<strong>名前・引数の型・並び</strong>を同じにする。</li>
<li style="margin-bottom: 10px;">戻り値の型もスーパークラスと同じにする（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">void</code> なら <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">void</code>）。</li>
<li style="margin-bottom: 10px;">オーバーライドであることを明示するために、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">@Override</code> をメソッドの直前に書く習慣がある（省略可能）。</li>
</ul>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">サンプル：ColdVendMachine で buy() をオーバーライドする</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> ColdVendMachine <span style="color: #0033ff;">extends</span> VendMachine {

    <span style="color: #0033ff;">public</span> ColdVendMachine(String name, <span style="color: #0033ff;">int</span> stock) {
        <span style="color: #0033ff;">super</span>(name, stock);
    }

    <span style="color: #666;">// スーパークラスの buy() をオーバーライド：冷飲料用のメッセージに変える</span>
    @Override
    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> buy() {
        <span style="color: #0033ff;">if</span> (getStock() > 0) {
            System.out.println(getName() + <span style="color: #cc0000;">"を購入しました。冷えてます。"</span>);
            <span style="color: #0033ff;">super</span>.buy();
        } <span style="color: #0033ff;">else</span> {
            System.out.println(<span style="color: #cc0000;">"売り切れです"</span>);
        }
    }
}</pre>
<p>このようにサブクラスで <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> を書き直すと、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">ColdVendMachine</code> のインスタンスで <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> を呼んだとき「〇〇を購入しました。冷えてます。」と表示されます。</p>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【5】super でスーパークラスのメソッドを呼ぶ</h2>
<p>オーバーライドしたメソッドの中から、<strong>スーパークラスの同じメソッド</strong>を呼びたいときは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.メソッド名(引数)</code> と書きます。在庫を減らす処理はスーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> に任せて、表示だけサブクラスで変える例です。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// 表示だけサブクラスで変え、在庫処理はスーパークラスに任せる</span>
@Override
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> buy() {
    <span style="color: #0033ff;">if</span> (getStock() > 0) {
        System.out.println(getName() + <span style="color: #cc0000;">"を購入しました。冷えてます。"</span>);
        <span style="color: #0033ff;">super</span>.buy();
    } <span style="color: #0033ff;">else</span> {
        System.out.println(<span style="color: #cc0000;">"売り切れです"</span>);
    }
}</pre>
<p>スーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> が「〇〇を購入しました」と表示するなら、サブクラスで「冷えてます」だけ追加して在庫は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.buy()</code> に任せる形もよくあります。どちらも「スーパークラスの処理を呼ぶ」ために <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super</code> を使います。</p>
<div style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-top: 15px;">
<p style="margin: 0;"><strong>ユウタ：</strong>「<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super</code> はスーパークラスのコンストラクタを呼ぶときと、スーパークラスのメソッドを呼ぶときの両方で使うんだね。」</p>
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【6】練習問題（継承）</h2>
<div>
<strong>【問題1】VendMachine を継承したサブクラスを作る</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendMachine</code> を継承した <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">HotVendMachine</code>（温飲料専用機）クラスを作成してください。コンストラクタは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">HotVendMachine(String name, int stock)</code> とし、中で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(name, stock)</code> を呼んでください。
</div>
<div style="margin-top: 15px;">
<strong>【問題2】buy() をオーバーライドする</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">HotVendMachine</code> で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> をオーバーライドしてください。在庫が 0 より大きいときは「〇〇を購入しました。温かくしてお渡しします。」と表示して在庫を1減らし、0 以下のときは「売り切れです」と表示するようにしてください。getter を使って名前・在庫を取得します。
</div>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<section class="section-new-page" style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【7】まとめのおさらい</h2>
<ul style="padding-left: 20px;">
<li style="margin-bottom: 10px;"><strong>継承</strong> — <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">extends スーパークラス名</code> でサブクラスがスーパークラスの機能を引き継ぐ。サブクラスのコンストラクタでは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super(引数)</code> でスーパークラスのコンストラクタを呼ぶ。</li>
<li style="margin-bottom: 10px;"><strong>オーバーライド</strong> — スーパークラスと同じ名前・同じ引数のメソッドをサブクラスで定義し直す。サブクラスのインスタンスではそのメソッドを呼ぶとサブクラスの処理が実行される。</li>
<li style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">super.メソッド名(引数)</code> でスーパークラスのメソッドを呼べる。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">@Override</code> はオーバーライドであることを示す注釈。</li>
</ul>
<div style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ナナコ：</strong>「自販機の種類を継承で増やして、buy() の表示をオーバーライドで変える。同じ型で扱いながら動きを変えられそう。」</p>
</div>
<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888;">
<p style="margin: 0;"><strong>カバ先生：</strong>「次は、抽象クラスやインタフェースで『型の決まり』を学んで、同じ型でいろいろな自販機を扱う多態性に進んでいこう！」</p>
</div>
</section>

</div>
</body>
</html>

【練習問題】 Lesson101 1時間集中デバッグ・トレーニング（Java）
<div style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;">

<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">Java 集中デバッグ・トレーニング（50問）— まずは1問で「意図」を言語化せよ</h1>

<div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888; margin-bottom: 10px;">
<p style="margin: 0;"><strong>カバ先生：</strong>「言語化は“はっきりさせること”だよ。赤字を消すことだけに集中しないで、まず State B（本来のゴール）を言葉にしてみよう。いっしょに必要条件も考えてみよう。」</p>
</div>
<div style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;">
<p style="margin: 0;"><strong>ナナコ：</strong>「“いい感じに直す” じゃなくて、何がどうなる（A→B）を言葉にします…！」</p>
</div>
<div style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-bottom: 20px;">
<p style="margin: 0;"><strong>ユウタ：</strong>「エラーが出たら、とりあえず修正…じゃなくて、まず読む・仮説・切り分け、ですね。」</p>
</div>

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">最初に約束（この教材のルール）</h2>
<ul style="padding-left: 20px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>ゴール</strong>：エラーを消すことではなく、<strong>State B（本来やりたかったこと）</strong>を明確にして原因へ到達すること。</li>
  <li style="margin-bottom: 10px;"><strong>禁止</strong>：「とりあえず直す」「当てずっぽうで書き換える」「動いたからOK」</li>
  <li style="margin-bottom: 0;"><strong>推奨</strong>：仮説は1個に絞って検証する（同時に3箇所いじるな）。</li>
</ul>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q1 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q1】脊髄反射で「;」を足す前に、State B を言え</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B：価値の定義）】</h3>
<p style="margin-bottom: 10px;">ユーザーが名前を入力したら、コンソールに <strong>「Hello, 名前」</strong> と表示できる。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("Name? ");
        String name = sc.nextLine();
        System.out.println("Hello, " + name)
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択してCursorへドラッグ（再現用）：</p>
  <textarea readonly style="width:100%;height:160px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("Name? ");
        String name = sc.nextLine();
        System.out.println("Hello, " + name)
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">error: ';' expected</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠（一番危険な対応）】</h3>
<p style="margin-bottom: 0;">「赤字が出てる行に、とにかく <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">;</code> をいっぱい足す」「行を消す」。<strong>意図（B）が壊れても気づけない</strong>。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①エラー内容の確認</strong>：<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">';' expected</code> は「文の終わりが足りない」ことが多い。行番号と該当行を指させる。</li>
  <li style="margin-bottom: 10px;"><strong>②これまでの思考の言語化</strong>：「今、何を“できるようにしたい”の？（B を1文で）」</li>
  <li style="margin-bottom: 10px;"><strong>③仮説</strong>：「Javaで“文が終わる”のは何？ その行は終わってる？」</li>
  <li style="margin-bottom: 10px;"><strong>④理解度の確認</strong>：「<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">;</code> を付ける“理由”を説明して。『なんとなく』は禁止。」</li>
  <li style="margin-bottom: 10px;"><strong>⑤切り分け</strong>：該当行だけをコメントアウトしても、B は満たせない。だから「消す」は不正解。</li>
  <li style="margin-bottom: 10px;"><strong>⑥解読・検索ヒント</strong>：検索するなら <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java ';' expected</code>。ただし検索前に「その行の構文」を読む。</li>
  <li style="margin-bottom: 10px;"><strong>⑦修正箇所のヒント</strong>：同じファイル内で、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">;</code> が付いている行と付いていない行を比較させる。</li>
  <li style="margin-bottom: 0;"><strong>⑧自己解決へ</strong>：「修正後に“Hello, 名前”が出ればOK」ではなく、「入力→表示」という必要条件が満たされたか確認させる。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q2 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q2】“存在しない名前”を作って赤字を黙らせるな（タイポ）</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">商品名が <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">coffee</code> のときだけ「在庫チェックOK」と表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class Main {
    public static void main(String[] args) {
        String itemName = "coffee";

        if (itemNmae.equals("coffee")) {
            System.out.println("在庫チェックOK");
        }
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:150px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class Main {
    public static void main(String[] args) {
        String itemName = "coffee";

        if (itemNmae.equals("coffee")) {
            System.out.println("在庫チェックOK");
        }
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">error: cannot find symbol
  symbol:   variable itemNmae</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「じゃあ <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">String itemNmae</code> を追加すればいいや」。それは赤字が消えるだけで、<strong>“意図した変数”を参照していない</strong>。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：「symbol: variable ...」は「その名前の変数は存在しない/見えない」。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「“どの情報”を比較したいの？ それの名前は？」（itemName の意図を言わせる）</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「このファイル内に同じ意味っぽい変数はある？」（類似名を探させる）</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「“タイポ”と“別の変数”の違いを説明して」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：まずは <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">if</code> 行だけを見て、比較対象の“定義元”に戻る。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索するなら <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java cannot find symbol variable</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：同じ行の中で「定義した名前」と「使った名前」のスペルを1文字ずつ比較。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：直ったら「なぜ同じ意味で2つの変数名を作るのが危険か」を言わせて終了。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q3 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q3】エラーが出ないバグが一番危険（equals と 意図）</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">入力が <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">yes</code> のときだけ「購入します」と表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("buy? (yes/no): ");
        String ans = sc.nextLine();

        if (ans == "yes") {
            System.out.println("購入します");
        } else {
            System.out.println("購入しません");
        }
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:190px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("buy? (yes/no): ");
        String ans = sc.nextLine();

        if (ans == "yes") {
            System.out.println("購入します");
        } else {
            System.out.println("購入しません");
        }
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<p style="margin-bottom: 0;"><strong>エラーは出ません。</strong>ただし <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">yes</code> を入力しても「購入しません」と出ることがあります（環境や入力の作り方で再現の仕方が変わる）。</p>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「じゃあ if を反転」「とりあえず <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">==</code> の左右を入れ替える」。<strong>“比較の定義”</strong>が曖昧なまま。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：「エラーが無い＝正しい」ではない。症状は「期待と違う出力」。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「State B をもう一回。『いつ』『何が』『どう表示される』？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「比較している“もの”は何？ 文字列は“同じ”をどう定義する？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">==</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">.equals()</code> の違いを“結果”で説明して」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分けは「入力の値をそのまま表示」→「比較だけする」→「分岐後の表示」の順で確認。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索するなら <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java String compare equals ==</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所は if 条件の比較。答えを言わず「文字列比較の原則」を思い出させる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：自己解決後、「“同じ”の定義」を言語化できたかをチェックして終える。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q4 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q4】配列の境界：1つ多く回すのは“偶然動く”だけ</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">3つの文字列を順番に表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class Main {
    public static void main(String[] args) {
        String[] items = {"water", "coffee", "tea"};

        for (int i = 0; i <= items.length; i++) {
            System.out.println(items[i]);
        }
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:150px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class Main {
    public static void main(String[] args) {
        String[] items = {"water", "coffee", "tea"};

        for (int i = 0; i <= items.length; i++) {
            System.out.println(items[i]);
        }
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「じゃあ配列を1個増やす」「例外を握りつぶす（try-catchで空にする）」。<strong>“何回回すべきか” の定義が曖昧</strong>。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：Index 3 / length 3 → 0〜2 が有効。数字を言わせる。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「何を何回表示したい？ “3つ” ってどこに定義されてる？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「ループ条件の <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;"><=</code> は何を意味する？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「境界（<= と <）の違いを、i の値の列で説明して」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分けは i の最後の値を print して、いつ落ちたかを確認。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">ArrayIndexOutOfBoundsException length index</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所はループ条件。配列の長さとインデックス範囲を結びつけさせる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：今後は「配列は 0 から length-1」までを“自分の言葉”で言えるか確認。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q5 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q5】NullPointerException：赤字を消す前に「何が null か」を特定せよ</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">名前が設定されていれば「こんにちは、名前」を表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class Main {
    public static void main(String[] args) {
        String name = null;
        System.out.println("こんにちは、" + name.toUpperCase());
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:120px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class Main {
    public static void main(String[] args) {
        String name = null;
        System.out.println("こんにちは、" + name.toUpperCase());
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">Exception in thread "main" java.lang.NullPointerException</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「NPE が嫌だから try-catch で握りつぶす」。それは B（挨拶表示）を達成しない。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：null 参照。どの変数が null で、どの操作で落ちたかを言わせる。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は “大文字にする” が必要？ それとも “挨拶を出す” が必要？」（必要条件を分解）</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">toUpperCase()</code> は何に対して呼べる？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「null のときの仕様を決めてる？ “空欄なら何を表示する？”」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分けは name を表示（null か確認）→ toUpperCase を呼ぶ前に分岐、の順。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">NullPointerException toUpperCase null</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正は「null でないことを保証」か「null のときの仕様分岐」。答えは与えず、仕様を決めさせる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：「例外＝悪」ではなく「仕様未定義が表に出ただけ」と言い換えられるか確認。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q6 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q6】NumberFormatException：入力仕様を言語化していないだけ</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">金額を入力したら、税込（10%）の金額を整数で表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("price: ");
        String s = sc.nextLine(); // 例：1,000 と入力されることがある

        int price = Integer.parseInt(s);
        int taxIn = (int) (price * 1.1);
        System.out.println(taxIn);
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:210px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("price: ");
        String s = sc.nextLine(); // 例：1,000 と入力されることがある

        int price = Integer.parseInt(s);
        int taxIn = (int) (price * 1.1);
        System.out.println(taxIn);
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">Exception in thread "main" java.lang.NumberFormatException: For input string: "1,000"</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「parseInt が嫌だから double にする」「例外を握りつぶす」。それは B（税計算）の前提（入力仕様）が曖昧なまま。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：どの入力で落ちるかを特定（例：<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">1,000</code>）。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は“税込計算”。そのための必要条件は“価格が数値として扱える”だよね？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「入力は必ず数字だけ？ カンマは許す？ 仕様はどっち？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「仕様を決めないまま直すと、次に何が起きる？」（再発を言わせる）</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分け：入力→整形（前処理）→変換→計算、の4段階に分ける。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java NumberFormatException comma parseInt</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所は「parseInt の前」。答えは出さず“入力の正規化”という言葉を与える。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：自己解決後、入力仕様（受け付ける形式）を1文で書かせて終了。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q7 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q7】@Override が怒るのは“意図と署名がズレた”証拠</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">スーパークラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">buy()</code> を、サブクラスで上書き（オーバーライド）してメッセージを変えたい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">class VendMachine {
    public void buy() {
        System.out.println("購入しました");
    }
}

class HotVendMachine extends VendMachine {
    @Override
    public void buy(String msg) {
        System.out.println("温かくしてお渡しします");
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:180px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">class VendMachine {
    public void buy() {
        System.out.println("購入しました");
    }
}

class HotVendMachine extends VendMachine {
    @Override
    public void buy(String msg) {
        System.out.println("温かくしてお渡しします");
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">error: method does not override or implement a method from a supertype</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「@Override を消せばコンパイル通るから消す」。それは“意図のズレ”を見えなくするだけ。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：override できていない。つまり「スーパークラスに同じ署名が無い」。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は“上書き”。上書きとは“何が一致”している必要がある？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「buy の“引数”と“戻り値”が一致してる？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「@Override は何のために付ける？（ミスを早期に発見するため）」と言わせる。</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分け：スーパークラスの buy の宣言だけ見る→サブクラスの宣言と比較。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">method does not override implement supertype</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所はサブクラスのメソッド宣言（署名）。答えは言わず「一致させる要素」を列挙させる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：直ったら「@Override を消すのが危険な理由」を1文で言わせて終了。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q8 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q8】static の場に“誰の箱”が無い（static context）</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">自販機の名前を表示したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class VendMachine {
    private String name = "water";

    public void printName() {
        System.out.println(name);
    }

    public static void main(String[] args) {
        printName();
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:190px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class VendMachine {
    private String name = "water";

    public void printName() {
        System.out.println(name);
    }

    public static void main(String[] args) {
        printName();
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">error: non-static method printName() cannot be referenced from a static context</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「じゃあ全部 static にする」。それで State B は達成できても、設計（箱と専門家の分離）が壊れる。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：static context は「インスタンス無し」。誰の name か決まっていない。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は“名前を出す”。そのために必要なのは“どの自販機の名前か”だよね？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「“どの箱（インスタンス）”から呼ぶのが正しい？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「static にするのと、インスタンスを作るのと、違いは？」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分け：main は static。printName はインスタンス。矛盾を図で説明させる。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">non-static method cannot be referenced from a static context</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所は main 内。答えを教えず「箱を作る/静的にする」の選択をさせる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：最終的に「“どの箱か”が消えると何が困るか」を言語化させる。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q9 ======================== -->
<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">【Q9】型の不一致：キャストは“定義のごまかし”になりやすい</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">文字列の数値（例：<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">"3"</code>）を受け取って、合計に足したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class Main {
    public static void main(String[] args) {
        int total = 10;
        String add = "3";

        total = total + add;
        System.out.println(total);
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:140px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class Main {
    public static void main(String[] args) {
        int total = 10;
        String add = "3";

        total = total + add;
        System.out.println(total);
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 10px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;">error: incompatible types: String cannot be converted to int</pre>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「じゃあ <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">(int)</code> ってキャストすれば？」。それは“変換の定義”をせずにごまかしているだけ。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：型が違う。足し算の相手が int ではない。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は“数として足す”。そのための必要条件は“add が数”」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「add は“文字列”。どうやって“数”にする？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「キャストと変換の違いを説明できる？」</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分け：まず add を数にできるか（単体）→ その後 total に足す。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java String to int parse</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正は足し算の前。答えを言わず「入力は文字列で来る」前提を言語化させる。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：自己解決後「変換できない入力のときの仕様」まで決められているか確認。</li>
</ol>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<!-- ======================== Q10 ======================== -->
<section style="margin-bottom: 0;">
<h2 style="border-left: 5px solid #cc0000; padding-left: 10px; color: #cc0000; font-size: 18px; margin-bottom: 15px;">【Q10】止まる/終わらない：エラーが無いときこそ切り分けが必要</h2>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【本来やりたかったこと（State B）】</h3>
<p style="margin-bottom: 10px;">1〜5 を表示して終了したい。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【バグのあるソースコード】</h3>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">public class Main {
    public static void main(String[] args) {
        int i = 1;
        while (i <= 5) {
            System.out.println(i);
            i = i; // ここが“増える”べきなのに変化しない
        }
        System.out.println("done");
    }
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ 再現用：</p>
  <textarea readonly style="width:100%;height:170px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">public class Main {
    public static void main(String[] args) {
        int i = 1;
        while (i <= 5) {
            System.out.println(i);
            i = i; // ここが“増える”べきなのに変化しない
        }
        System.out.println("done");
    }
}</textarea>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【表示されているエラーメッセージ】</h3>
<p style="margin-bottom: 0;"><strong>エラーメッセージは出ません。</strong>ただし、実行すると <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">1</code> が出続けて終わりません（止めないと戻ってこない）。</p>

<h3 style="padding-left: 10px; color: #cc0000; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">【思考の罠】</h3>
<p style="margin-bottom: 0;">「PCが重い」「while が怖いから for に変える」。手段を変えても、<strong>変化（A→B）の必要条件</strong>が満たされない。</p>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">【8ステップ・エスコートガイド】</h3>
<ol style="padding-left: 24px; margin: 0;">
  <li style="margin-bottom: 10px;"><strong>①</strong>：症状は「終わらない」。条件式と“変化”を確認。</li>
  <li style="margin-bottom: 10px;"><strong>②</strong>：「B は“1〜5を出して終わる”。必要条件は“i が増える”だよね？」</li>
  <li style="margin-bottom: 10px;"><strong>③</strong>：「このループの中で、i はどこで変化してる？」</li>
  <li style="margin-bottom: 10px;"><strong>④</strong>：「“変化がない” とき、ループの判定はどうなる？」を言わせる。</li>
  <li style="margin-bottom: 10px;"><strong>⑤</strong>：切り分け：ループ内で i を毎回表示→更新行を注視→更新が無いならそこが原因候補。</li>
  <li style="margin-bottom: 10px;"><strong>⑥</strong>：検索は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Java infinite loop while</code>。</li>
  <li style="margin-bottom: 10px;"><strong>⑦</strong>：修正箇所のヒント：更新式が「同じ値を代入」になっていないか、前後を比較。</li>
  <li style="margin-bottom: 0;"><strong>⑧</strong>：自己解決後、「ループは“変化”が無いと終わらない」を自分の言葉でまとめさせる。</li>
</ol>
</section>

</div>

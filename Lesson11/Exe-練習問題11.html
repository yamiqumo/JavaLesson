【練習問題】 第11回 メンバの可視性（アクセス修飾子）
<div style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;">
<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">Java研修 練習問題集 — 第11回 アクセス修飾子（カプセル化の流れ）</h1>
<p style="margin-bottom: 20px;">この回では、<strong>public を private に変える → ゲッター・セッターを追加する → セッターでフィルタリングする</strong>という流れで、アクセス修飾子とカプセル化を練習します。題材は「年齢」とし、年齢にマイナスや 150 を超える値が入らないようにします。</p>

<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">配布コード（コピペ用）</h2>
<p style="margin-bottom: 10px;">以下は練習で使う基本のクラスと Main です。そのままコピペしてプロジェクトに追加してください。<strong>手動で別ファイルとして渡す場合は、講師の指示に従って受け取ったファイルをそのまま使ってください。</strong></p>

<div style="margin-bottom: 20px;">
<p style="margin-bottom: 5px;"><strong>Person.java（初期版・フィールドは public）</strong></p>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;"><span style="color: #666;">// 練習用：名前と年齢を持つクラス（ここから private / getter・setter にしていく）</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> Person {
    <span style="color: #0033ff;">public</span> String name;
    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">int</span> age;

    <span style="color: #0033ff;">public</span> Person(String name, <span style="color: #0033ff;">int</span> age) {
        <span style="color: #0033ff;">this</span>.name = name;
        <span style="color: #0033ff;">this</span>.age = age;
    }
}</pre>
</div>
<div style="margin-bottom: 25px;">
<p style="margin-bottom: 5px;"><strong>Main.java（初期版）</strong></p>
<pre style="font-family: monospace; background-color: #f5f5f5; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #ddd; overflow-x: auto;"><span style="color: #0033ff;">public</span> <span style="color: #0033ff;">class</span> Main {
    <span style="color: #0033ff;">public</span> <span style="color: #0033ff;">static</span> <span style="color: #0033ff;">void</span> main(String[] args) {
        Person p = <span style="color: #0033ff;">new</span> Person(<span style="color: #cc0000;">"山田"</span>, 25);
        System.out.println(p.name + <span style="color: #cc0000;">", "</span> + p.age);
    }
}</pre>
</div>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">基本問題 アクセス修飾子とカプセル化の流れ</h2>
<p style="margin-bottom: 15px;">配布コードの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Person</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Main</code> を使って、次の①～④の順に進めてください。</p>

<div>
<strong>【ステップ①】public を private に修正して、アクセスできないことを確認する</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Person</code> のフィールド <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">age</code> を <strong>private</strong> に変更してください。<br>
その状態で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Main</code> の <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.name</code> や <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.age</code> は、クラスの外からは参照できないため、<strong>コンパイルエラーになる</strong>ことを確認してください。<br>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">public String name;</code> を <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">private String name;</code> に、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">public int age;</code> を <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">private int age;</code> に変えます。Main では <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.name</code> や <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.age</code> が使えなくなり、コンパイルエラーになります。</p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例（Person の変更部分）</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #0033ff;">private</span> String name;
<span style="color: #0033ff;">private</span> <span style="color: #0033ff;">int</span> age;</pre>
</details>
</div>

<br><br>

<div>
<strong>【ステップ②】private にしたので、ゲッター・セッターを設定する</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Person</code> に、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">name</code> 用の <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">getName()</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setName(String name)</code>、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">age</code> 用の <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">getAge()</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setAge(int age)</code> を <strong>public</strong> で追加してください。<br>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p>getter はフィールドの値を return、setter は引数をフィールドに代入するだけの形でよいです。</p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// name の getter / setter</span>
<span style="color: #0033ff;">public</span> String getName() { <span style="color: #0033ff;">return</span> name; }
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> setName(String name) { <span style="color: #0033ff;">this</span>.name = name; }

<span style="color: #666;">// age の getter / setter（ステップ④で setAge にフィルタを入れる）</span>
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">int</span> getAge() { <span style="color: #0033ff;">return</span> age; }
<span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> setAge(<span style="color: #0033ff;">int</span> age) { <span style="color: #0033ff;">this</span>.age = age; }</pre>
</details>
</div>

<br><br>

<div>
<strong>【ステップ③】ゲッター・セッターを介して、Main からアクセスできることを確認する</strong><br>
<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Main</code> を、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.name</code> や <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.age</code> の代わりに <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.getName()</code>・<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.getAge()</code> で表示し、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">p.setAge(30)</code> などで年齢を変更できることを確認してください。<br>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例（Main）</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">Person p = <span style="color: #0033ff;">new</span> Person(<span style="color: #cc0000;">"山田"</span>, 25);
System.out.println(p.getName() + <span style="color: #cc0000;">", "</span> + p.getAge());  <span style="color: #666;">// 山田, 25</span>
p.setAge(30);
System.out.println(p.getName() + <span style="color: #cc0000;">", "</span> + p.getAge());  <span style="color: #666;">// 山田, 30</span></pre>
</details>
</div>

<br><br>

<div>
<strong>【ステップ④】セッターにフィルタリングを設定する</strong><br>
年齢は <strong>0 歳以上 150 歳以下</strong>だけ有効とします。<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setAge(int age)</code> を修正し、<strong>0～150 のときだけ</strong> <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">this.age = age;</code> で代入し、それ以外の値のときは代入しない（変更させない）ようにしてください。必要なら「無効な年齢です」などメッセージを表示してもかまいません。<br>
Main で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setAge(-5)</code> や <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">setAge(200)</code> を呼んでも、年齢が変わらないことを確認してください。<br>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">ヒント</summary>
<p>if で <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">age &gt;= 0 && age &lt;= 150</code> のときだけ <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">this.age = age;</code> を実行します。</p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答例</summary>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #0033ff;">public</span> <span style="color: #0033ff;">void</span> setAge(<span style="color: #0033ff;">int</span> age) {
    <span style="color: #0033ff;">if</span> (age >= 0 && age <= 150) {
        <span style="color: #0033ff;">this</span>.age = age;
    } <span style="color: #0033ff;">else</span> {
        System.out.println(<span style="color: #cc0000;">"無効な年齢です（0～150の範囲で指定してください）"</span>);
    }
}</pre>
</details>
</div>

<hr style="border: none; border-top: 1px solid #ccc; margin: 2em 0;">

<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">確認問題 アクセス修飾子の整理</h2>
<p style="margin-bottom: 10px;">次の説明に当てはまるアクセス修飾子を選んでください（public / private / protected / 無印（デフォルト））。</p>
<ol style="padding-left: 24px;">
<li style="margin-bottom: 10px;">「どこからでも」アクセスできる。</li>
<li style="margin-bottom: 10px;">「そのクラスの中だけ」からアクセスできる。</li>
<li style="margin-bottom: 10px;">「同じクラスとサブクラス（同一パッケージ含む）」からアクセスできる。</li>
<li style="margin-bottom: 10px;">「同じパッケージ内」だけからアクセスできる（修飾子を書かない場合）。</li>
</ol>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">解答</summary>
<p>① public　② private　③ protected　④ 無印（デフォルト）</p>
</details>
</div>

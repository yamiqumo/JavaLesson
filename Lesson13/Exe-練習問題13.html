【練習問題】 第13回 オブジェクト指向⑤ ～インタフェース～
<div style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;">
<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">Java研修 練習問題集 — 第13回 インタフェース</h1>

<section style="margin-bottom: 30px;">
<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">配布コード（インタフェース・実装クラス — ドラッグでコピー）</h2>
<p style="margin-bottom: 10px; font-size: 14px;">基本的に、<strong>編集前の基本クラスを読み込んでから</strong>問題に取り組みます。ソースコードは<strong>ファイルごとに TextArea に用意</strong>してあり、<strong>選択してドラッグで転載</strong>できます。以下からインタフェースと実装クラスをドラッグでコピーして使えます。メインメソッドは含みません。</p>

<div style="background-color: #f0f8ff; padding: 15px; border-radius: 5px; border-left: 5px solid #0033ff; margin: 12px 0 10px 0;">
<p style="margin: 0; font-weight: bold;">既存クラスに新たな価値観を与えるためのベースとして利用するのがインタフェースです。</p>
</div>

<h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;">比較：継承とインタフェース（使い分けの整理）</h3>
<table style="border-collapse: collapse; margin-top: 5px; margin-bottom: 15px;" border="1" cellspacing="0" cellpadding="8">
<tbody>
<tr style="background-color: #f0f8ff;">
<th>観点</th>
<th>継承（extends）</th>
<th>インタフェース（implements）</th>
</tr>
<tr>
<td>目的</td>
<td>同じ種類のクラスに新たなバリエーションを付与して、サブクラスを作成する。</td>
<td>独立した別の機能をあたえて、そのメソッドの実装を強制するためのもの。</td>
</tr>
<tr>
<td>関係のイメージ</td>
<td>「〜は〜の一種（is-a）」を表す。</td>
<td>「〜は〜ができる（can-do）」を表す。</td>
</tr>
<tr>
<td>数</td>
<td>クラスの継承は 1つだけ（単一継承）。</td>
<td>インタフェースは複数実装できる（多重実装）。</td>
</tr>
</tbody>
</table>
<p style="margin-bottom: 8px; font-size: 13px; font-weight: bold;">【移動販売機（テキスト本編と共通）】</p>
<details style="margin: 0 0 10px 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">📋 インタフェース（Movable）をドラッグでコピー（クリックで開く）</summary>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:8px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:80px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">public interface Movable {
    void move();
}</textarea>
</div>
</details>
<details style="margin: 0 0 10px 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">📋 インタフェース（Speakable）をドラッグでコピー（クリックで開く）</summary>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:8px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:80px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">public interface Speakable {
    void speak();
}</textarea>
</div>
</details>
<details style="margin: 0 0 10px 0;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">📋 実装クラス（VendingMachine implements Movable, Speakable）をドラッグでコピー（クリックで開く）</summary>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:8px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:280px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">public class VendingMachine implements Movable, Speakable {
    private String name;

    public VendingMachine(String name) {
        this.name = name;
    }

    @Override
    public void move() {
        System.out.println(name + "が指定の場所へ移動しました");
    }

    @Override
    public void speak() {
        System.out.println("ピロリロ〜ン♪ 淹れたてのコーヒーはいかがですか？");
    }
}</textarea>
</div>
</details>
</section>

<hr style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;">

<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">基本問題① Main で「移動 → 呼び込み」の営業フローを実装する</h2>
<p style="margin-bottom: 10px;">配布コードの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine</code>（<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">implements Movable, Speakable</code>）を使い、<strong>指定の場所に移動（move）したあと、元気よく呼び込み（speak）をする</strong>という一連の営業フローを <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Main</code> クラスの <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">main</code> メソッドで実装してください。</p>
<p style="margin-bottom: 5px;"><strong>ステップ</strong></p>
<table style="border-collapse: collapse; margin-top: 5px; margin-bottom: 15px;" border="1" cellspacing="0" cellpadding="5">
<tbody>
<tr style="background-color: #f0f8ff;">
<th>ステップ</th>
<th>内容</th>
</tr>
<tr><td>1</td><td>VendingMachine のインスタンスを生成する（例：名前「コーヒー号」）</td></tr>
<tr><td>2</td><td>まず <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">move()</code> を呼び、続けて <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">speak()</code> を呼ぶ</td></tr>
</tbody>
</table>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">▶ ヒント</summary>
<p>VendingMachine のインスタンスを作り、<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">move()</code> → <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">speak()</code> の順で呼びます。例：<code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine vm = new VendingMachine("コーヒー号"); vm.move(); vm.speak();</code></p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">▶ 解答例（Main の main 内）</summary>
<p style="font-size:12px;color:#666;margin-bottom:5px;">【解説・確認用】移動してから呼び込みの順で実行します。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">VendingMachine vm = new VendingMachine("コーヒー号");
vm.move();
vm.speak();</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:10px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:80px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">VendingMachine vm = new VendingMachine("コーヒー号");
vm.move();
vm.speak();</textarea>
</div>
</details>

<hr style="border: none; border-top: 1px solid #ccc; margin: 2em 0;">

<h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">基本問題② 2台の移動販売機で営業フローを実行する</h2>
<p style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine</code> を2台（例：「コーヒー号」と「ジュース号」）用意し、それぞれで<strong>移動（move）→ 呼び込み（speak）</strong>の営業フローを <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">Main</code> の <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">main</code> 内で順に実行してください。</p>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">▶ ヒント</summary>
<p>1台目で move() → speak()、続けて2台目で move() → speak() を呼びます。</p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">▶ 解答例（Main の main 内）</summary>
<p style="font-size:12px;color:#666;margin-bottom:5px;">【解説・確認用】2台それぞれで move → speak を実行します。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">VendingMachine vm1 = new VendingMachine("コーヒー号");
vm1.move();
vm1.speak();
VendingMachine vm2 = new VendingMachine("ジュース号");
vm2.move();
vm2.speak();</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:10px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:120px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">VendingMachine vm1 = new VendingMachine("コーヒー号");
vm1.move();
vm1.speak();
VendingMachine vm2 = new VendingMachine("ジュース号");
vm2.move();
vm2.speak();</textarea>
</div>
</details>

<hr style="border: none; border-top: 1px solid #ccc; margin: 2em 0;">

<h2 style="border-left: 5px solid #cc0000; padding-left: 10px; color: #cc0000; font-size: 18px; margin-bottom: 15px;">発展問題③ 配列で複数台の移動販売機を扱う</h2>
<p style="margin-bottom: 5px;"><strong>【問題】VendingMachine の配列で複数台に move → speak をループで実行する</strong></p>
<p style="margin-bottom: 10px;"><code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine[]</code> 型の配列に複数台の移動販売機を入れ、拡張 for 文でそれぞれ <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">move()</code> と <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">speak()</code> を呼んでください。次回の多態性の準備になります。</p>
<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>
<details style="margin-top: 8px;">
<summary style="cursor: pointer; font-weight: bold; color: #555;">▶ ヒント</summary>
<p>配列は <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine[] machines = { new VendingMachine("コーヒー号"), new VendingMachine("ジュース号") };</code> のように作り、for (VendingMachine v : machines) { v.move(); v.speak(); } で回せます。</p>
</details>
<details style="margin-top: 5px;">
<summary style="cursor: pointer; font-weight: bold; color: #0033ff;">▶ 解答例</summary>
<p style="font-size:12px;color:#666;margin-bottom:5px;">【解説・確認用】VendingMachine の配列でループし、各台で move → speak を実行します。</p>
<pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;">VendingMachine[] machines = {
    new VendingMachine("コーヒー号"),
    new VendingMachine("ジュース号")
};
for (VendingMachine v : machines) {
    v.move();
    v.speak();
}</pre>
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:10px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
  <textarea readonly style="width:100%;height:120px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">VendingMachine[] machines = {
    new VendingMachine("コーヒー号"),
    new VendingMachine("ジュース号")
};
for (VendingMachine v : machines) {
    v.move();
    v.speak();
}</textarea>
</div>
</details>
</div>
</div>

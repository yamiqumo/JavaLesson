【テキスト】 オブジェクト指向⑦ ～Static（クラス変数）～
<div style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;">
<h1 style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;">オブジェクト指向学習カリキュラム</h1>
<p style="margin-bottom: 10px;"><strong>Static（クラス変数）</strong> — クラス全体で共有する情報の扱い方と、これまでのオブジェクト指向（データ型～継承まで）の総復習（第15回）</p>

<section style="margin-bottom: 30px;">
  <h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">1. この回で学ぶこと</h2>
  <p style="margin-bottom: 10px;">第15回では、これまで学んできた内容を、次の2つの軸で総復習します。</p>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 10px;">
    <li><strong>Static（クラス変数）</strong>：1台1台ではなく「クラス全体で共有したい情報」の扱い方を学ぶ。</li>
    <li><strong>これまでの流れの総復習</strong>：データ型・演算子・if / for などの制御構文・メソッド・クラス・継承（＋多態性）までを、テキストとソースコード・練習問題で振り返る。</li>
  </ul>
  <p style="margin-bottom: 10px;">今回の授業時間では、最初に Static の座学＋ハンズオンを行い、後半の約2時間はこれまでの内容の総復習（座学の振り返り＋練習問題の時間）とします。</p>
</section>

<section style="margin-bottom: 30px;">
  <h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">2. Static（クラス変数）のイメージ</h2>
  <p style="margin-bottom: 10px;">これまでの自販機クラスでは、1台ごとに「飲み物の名前」「在庫数」などをフィールドとして持っていました。これは<strong>インスタンス変数</strong>と呼ばれ、「1台1台で違ってよい情報」です。</p>
  <p style="margin-bottom: 10px;">一方で、「今、<strong>全部で何台の自販機が動いているか</strong>」のように、クラス全体で1つだけ持ちたい情報もあります。このようなときに使うのが、<strong>Static（クラス変数）</strong>です。</p>

  <div style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888; margin-bottom: 12px;">
    <p style="margin: 0;"><strong>カバ先生：</strong>「インスタンス変数は『1台ごとに違う情報』、クラス変数（static）は『このクラス全体で1つだけ持つ情報』です。例えば、VendingMachine クラスで『今何台あるか』や『これまでの売上合計』などを数えるときに使えます。」</p>
  </div>

  <p style="margin-top: 15px; margin-bottom: 5px; font-size: 13px; text-align: center;">図1：Static とインスタンス化のイメージ</p>
  <img src="https://raw.githubusercontent.com/yamiqumo/JavaLesson/main/Lesson15/diagrams/static%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E5%8C%96.png"
       alt="Static とインスタンス化の関係を表した図"
       style="max-width: 100%; width: 100%; height: auto; max-height: 85vh; object-fit: contain; display: block; margin: 0 auto 5px auto;">
  <p style="text-align: right; font-size: 11px; margin-top: 5px;">
    <a href="mailto:?subject=【JavaLesson】図が表示されません&body=ページ名：オブジェクト指向⑦ Static（クラス変数）%0D%0A図：図1：Staticとインスタンス化のイメージ">図が表示されないときはこちら</a>
  </p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 20px; margin-bottom: 10px;">2-1. クラス変数 machineCount で「自販機が何台あるか」を数える</h3>
  <p style="margin-bottom: 10px;">次のコードは、VendingMachine クラスに <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">static int machineCount</code> を追加し、コンストラクタが呼ばれるたびに 1 ずつ増やしていく例です。</p>

  <pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// 自動販売機クラス（クラス変数で「何台あるか」を数える）</span>
<span style="color: #0033ff;">public class</span> VendingMachine {

	<span style="color: #666;">// フィールド（インスタンス変数）</span>
	<span style="color: #0033ff;">private String</span> drinkName = <span style="color: #d14;">"水"</span>;
	<span style="color: #0033ff;">private int</span> stock = 8;

	<span style="color: #666;">// クラス変数（このクラス全体で1つだけある情報）</span>
	<span style="color: #0033ff;">public static int</span> machineCount = 0;

	<span style="color: #666;">// コンストラクタ（自販機が1台増えるたびに machineCount を +1 する）</span>
	<span style="color: #0033ff;">public</span> VendingMachine() {
		machineCount = machineCount + 1;
	}

	<span style="color: #666;">// 在庫を1本減らして購入するメソッド</span>
	<span style="color: #0033ff;">public void</span> buy() {
		<span style="color: #0033ff;">if</span> (stock &gt; 0) {
			stock = stock - 1;
			System.out.println(drinkName + <span style="color: #d14;">"を購入しました。"</span>);
		} <span style="color: #0033ff;">else</span> {
			System.out.println(<span style="color: #d14;">"在庫がありません。"</span>);
		}
	}
}</pre>

  <details style="margin: 0 0 12px 0;">
    <summary style="cursor: pointer; font-weight: bold; color: #0033ff;">📋 VendingMachine（machineCount 付き）をドラッグでコピー（クリックで開く）</summary>
    <div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;margin-top:8px;">
      <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください</p>
      <textarea readonly style="width:100%;height:260px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#f4f4f4;color:#333;display:block;user-select:all !important;">// 自動販売機クラス（クラス変数で「何台あるか」を数える）
public class VendingMachine {

	// フィールド（インスタンス変数）
	private String drinkName = "水";
	private int stock = 8;

	// クラス変数（このクラス全体で1つだけある情報）
	public static int machineCount = 0;

	// コンストラクタ（自販機が1台増えるたびに machineCount を +1 する）
	public VendingMachine() {
		machineCount = machineCount + 1;
	}

	// 在庫を1本減らして購入するメソッド
	public void buy() {
		if (stock &gt; 0) {
			stock = stock - 1;
			System.out.println(drinkName + "を購入しました。");
		} else {
			System.out.println("在庫がありません。");
		}
	}
}</textarea>
    </div>
  </details>

  <p style="margin-bottom: 10px;">このクラスを使って main メソッド側で自販機を3台 new すると、最後に <code style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;">VendingMachine.machineCount</code> は 3 になります。</p>

  <pre style="font-family: monospace; background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"><span style="color: #666;">// main メソッド側のイメージ</span>
VendingMachine vm1 = <span style="color: #0033ff;">new</span> VendingMachine();
VendingMachine vm2 = <span style="color: #0033ff;">new</span> VendingMachine();
VendingMachine vm3 = <span style="color: #0033ff;">new</span> VendingMachine();
System.out.println(<span style="color: #d14;">"このクラスの自販機は、今 "</span> + VendingMachine.machineCount + <span style="color: #d14;">"台あります。"</span>);</pre>
</section>

<section style="margin-bottom: 0;">
  <h2 style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;">3. これまでの総復習（データ型～継承まで）</h2>
  <p style="margin-bottom: 10px;">後半の2時間程度は、これまで学んできた内容を<strong>一気に振り返る時間</strong>とします。ここでは、各テーマのポイントと、復習の進め方の目安をまとめておきます。</p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 8px;">3-1. データ型・演算子・制御構文の復習</h3>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 8px;">
    <li>プリミティブ型（int / double / boolean など）と参照型の違いを言葉にして説明できるかを確認する。</li>
    <li>算術演算子（+ - * / %）、比較演算子、論理演算子（&amp;&amp; / || / !）の意味を、簡単な例を使って説明する。</li>
    <li><strong>if / else / switch / for / while</strong> の基本的な書き方と、「どんな場面でどれを使うか」をもう一度整理する。</li>
  </ul>
  <p style="margin-bottom: 10px;">時間の目安：<strong>20～30分</strong>。テキストの該当ページを見ながら、簡単なサンプルコードを実際に書いてみると理解が戻りやすくなります。</p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 8px;">3-2. 配列とメソッドの復習</h3>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 8px;">
    <li>配列（int[] / String[] など）を使って、複数の値をまとめて扱うパターンを確認する。</li>
    <li>「引数」「戻り値」「メソッドを分ける理由（共通処理の切り出し・見通しのよさ）」を、既存のサンプルコードを題材に振り返る。</li>
    <li>main から別メソッドを呼び出すコードを書き、呼び出しの流れを口頭で説明できるか確認する。</li>
  </ul>
  <p style="margin-bottom: 10px;">時間の目安：<strong>20～30分</strong>。過去レッスンの練習問題から、if / for と配列・メソッドを組み合わせた問題を1～2問選んで解き直すと効果的です。</p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 8px;">3-3. クラスとインスタンスの復習</h3>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 8px;">
    <li>フィールド・コンストラクタ・メソッドの役割を、図とコード（自販機クラスなど）で再確認する。</li>
    <li>「クラスは設計図」「インスタンスは実体」というキーワードで、インスタンス化の流れを説明できるようにする。</li>
    <li>this キーワードの意味（自分自身のフィールドを指すこと）を、コンストラクタのコードを見ながら確認する。</li>
  </ul>
  <p style="margin-bottom: 10px;">時間の目安：<strong>20分前後</strong>。自販機クラスや動物クラスを題材に、フィールドやメソッドを少し書き換えてみるハンズオンを入れると理解が深まります。</p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 8px;">3-4. 継承と多態性（ポリモーフィズム）の復習</h3>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 8px;">
    <li>スーパークラス／サブクラスの関係と、<strong>共通部分をスーパークラスにまとめる理由</strong>を整理する。</li>
    <li>オーバーライド（同じメソッド名・引数で中身を上書きすること）のルールを確認する。</li>
    <li>自販機や動物のサンプルコードを使って、「スーパークラス型の変数にサブクラスを入れて、同じメソッドを呼ぶと中身が切り替わる」という多態性のイメージを復習する。</li>
  </ul>
  <p style="margin-bottom: 10px;">時間の目安：<strong>20～30分</strong>。Lesson13～14 のテキストと練習問題から1～2問を選び、コードを読み直したり少し改造したりする時間に当ててください。</p>

  <h3 style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 8px;">3-5. 練習問題タイムの進め方</h3>
  <ul style="margin-top: 0; padding-left: 20px; margin-bottom: 8px;">
    <li>前半：これまでのレッスンの<strong>基本問題</strong>から、受講者の様子を見て2～3問ピックアップし、各自またはペアで解いてもらう。</li>
    <li>後半：少し難しめの<strong>発展問題</strong>を1問選び、「設計を一緒に考えてからコーディングする」時間にする。</li>
    <li>時間の終わりに、今日の気づき（「ここがあいまいだった」「ここは得意になった」など）を一言ずつ共有してもらう。</li>
  </ul>
  <p style="margin-bottom: 0;">おおよその配分として、説明・座学で30～40分、コードを書き直したり問題を解いたりする時間に60～70分を使うと、<strong>「思い出す」「手を動かす」「質問する」</strong>のバランスが取りやすくなります。</p>
</section>


## 教材デザイン 基本ルール

### 0. スタイルの適用方法（必須）

**`.cursorrules` に規定あり**（インラインスタイルのみ、`<style>` タグは使わない）。最外枠は `<div style="...">` で囲み、h1・h2・section・div などにも個別に `style="..."` を付ける。

---

### 1. カラーパレット (Color Palette)

基本色・発展色・コード背景は **`.cursorrules` のとおり**（`#0033ff` / `#cc0000` / `#fdf5e6`）。以下は補足。

| 要素 | カラーコード | 用途 |
|------|--------------|------|
| テーブルヘッダー | `#f0f8ff` | 表のヘッダ背景 |
| コード枠線 | `#e1dbbd` | pre の枠線 |

---

### 2. タイポグラフィと見出しスタイル (Typography)

情報の階層構造を強調するための装飾ルール。

#### 左ライン（ボーダー）のルール

- **左のデザインラインはすべて 5px で統一する**（見出し・会話ボックス・ポイント解説ボックスなど）。
- **線を入れるのは h2 だけ**。h1・h3 には左ボーダーを付けない。

#### 大タイトル（h1）

- **background-color**: `#f0f8ff`、**color**: `#0033ff`、**font-size**: `24px`、**margin-bottom**: `30px`、**padding-left**: `10px`
- 左ボーダーは付けない。

#### セクション見出し（h2）※ここだけ左ライン

**`.cursorrules` のとおり** `border-left: 5px solid [テーマ色]`。**padding-left**: `10px`、**color**: `#0033ff`、**font-size**: `18px`、**margin-bottom**: `15px`。

#### 小見出し（h3）

- 左ボーダーは付けない。**color**: `#0033ff`、**font-size**: `16px`、**padding-left**: `10px`、**margin-top**: `15px` または `20px`、**margin-bottom**: `10px` で階層を表現。
- 必要に応じて **background-color**: `#f0f8ff` で差別化。

#### 強調テキスト（strong）

- 重要なキーワードや問題番号に使用。

#### 等幅フォント（code）

- プログラムのクラス名やメソッド名をインラインで区別。
- **推奨スタイル**: `font-family: monospace`、**background-color**: `#f5f5f5`、**padding**: `1px 4px`、**border-radius**: `3px`

---

### 3. UIコンポーネント (UI Components)

#### ① 構造化テーブル

- **border-collapse**: `collapse`、**cellpadding**: `5`
- 余計な隙間を排除し、情報密度を高める。区分・名前・型などのメタデータを整理するのに適する。
- ヘッダー背景：`#f0f8ff`

#### ② 構文強調付きコードブロック（pre）

コード背景は **`.cursorrules` のとおり** `#fdf5e6`。**border**: `1px solid #e1dbbd`、**border-radius**: `5px`、**padding**: `15px`、**overflow-x**: `auto`。必要に応じて **font-family**: `monospace`。シンタックスハイライト： コメント `#666`、予約語 `#0033ff`、文字列 `#cc0000`。

#### ③ インタラクティブ・トグル（details, summary）

- **ヒント**: summary の **color**: `#555`（グレー）— 学習者の思考を妨げない控えめな色。
- **解答例・答え**: summary の **color**: `#0033ff`（青）— 明確な答えを示すテーマカラー。
- **details**: `margin: 0.5em 0;` またはヒントは `margin-top: 8px`、解答例は `margin-top: 5px` で問題文と区切る。
- **▶ の重複を避ける**: ヒント・解答例の summary には **▶ をテキストに含めない**。「ヒント」「解答例」のみとし、ブラウザの details 標準の開閉マーカー（1つ）だけが表示されるようにする。
- 効果: 「答えが最初から見えてしまう」ことを防ぎ、能動的な学習を促す。

#### ④ 練習問題の区切り線

- 問題文とヒント・解答例の間に、区切り用の div を入れる。
- **スタイル**: `style="border-bottom: 1px solid #ccc; margin: 10px 0;"`（中身は空でよい）。

#### ⑤ 練習問題の解答ブロック（ドラッグ貼り付け用）

各問題の構成は **【問題】**（太字）→ **ヒント**（details）→ **解答**（details）の順。解答ブロック内は次のとおりとする（LMS ではコピペが制限される場合があるため、**マウスで全選択して Eclipse やメモ帳へドラッグ**できる textarea を必ず含める）。

- **ヒント**: `<details><summary>ヒント</summary>...</details>`（summary に ▶ は書かず、ブラウザ標準マーカーのみとする）。
- **解答**: `<details style="margin-top:10px;"><summary>解答例</summary>` の直下に以下を入れる。
  1. **解説・確認用**（任意）: `<p style="font-size:12px;color:#666;margin-bottom:5px;">【解説・確認用】</p>`
  2. **カラー表示用の pre**: `<pre style="background:#fdf5e6;color:#333;padding:15px;border-radius:5px;border:1px solid #e1dbbd;overflow-x:auto;">` のなかにシンタックスハイライト付きの Java コード。
  3. **ドラッグ用エリア**: 下記の div + textarea を**必ず**入れる。解答例で示したコードは、すべて**コピーできるように textarea で用意**する（複数ファイルに分かれる場合はファイルごとに textarea を用意する）。textarea には **プレーンテキスト**の同じ Java コードを入れ、`user-select:all` でマウス全選択→ドラッグで貼り付けできるようにする。

```html
<div style="background:#e6f7ff;padding:15px;border:2px dashed #1890ff;border-radius:6px;">
  <p style="font-size:12px;color:#0050b3;margin-bottom:8px;font-weight:bold;">🖱️ マウスで全選択して Eclipse やメモ帳へドラッグしてください：</p>
  <textarea readonly style="width:100%;height:150px;font-family:Consolas,monospace;font-size:13px;padding:10px;border:1px solid #91d5ff;background:#fff;display:block;user-select:all !important;">(プレーンテキストのJavaコード)</textarea>
</div>
```

- テキスト本編のサンプルコードでも、貼り付け可能にしたい箇所には同様に pre + textarea のセットで出力する。

---

### 4. 情報レイアウト (Information Hierarchy)

- **3段階拡張（ステップ方式）**: 1つのテーマを「骨組み → 実装 → 応用」と段階的に提示する構成。
- **余白設計**: margin-top, margin-bottom を細かく設定し、セクション間の「息継ぎ」を配置。
  - **section**: `margin-bottom: 30px`
  - **hr（セクション区切り）**: `border: none; border-top: 1px solid #ccc; margin: 1.5em 0;`
  - **ul**: `padding-left: 20px`、必要に応じて `margin-bottom: 0`
  - **li**: `margin-bottom: 10px`（最後の項目は省略可）
  - **p（本文）**: `margin-bottom: 10px` 程度で余白を付ける。
- **メイン・サブの分離**: 定義側と実行側（例: VendingMachine と Main）を視覚的に分ける構造。
- **復習・ポイント用の二重ボックス**（テキスト本編の「復習：前回までに学んだこと」「この単元で学ぶこと」など）:
  - **外側**: `background-color: #f0f8ff`、**padding**: `20px`、**border-radius**: `5px`、**border-left**: `5px solid #0033ff`
  - **内側（白枠）**: `margin: 15px 0`、**background-color**: `#fff`、**padding**: `15px`、**border-radius**: `10px`、**border**: `1px solid #e1dbbd`
  - リスト（ul）は内側の白枠の中に置き、**padding-left**: `20px`、**margin-bottom**: `0`。各 li に **margin-bottom**: `10px`。
- **ポイント解説・会話ボックス**: **padding**: `15px～20px`、**border-radius**: `5px`、**border-left**: `5px solid`（左ラインはすべて 5px）。セリフは**キャラクターごとに色分け**する（下記）。

#### 会話ボックス（キャラクター別色分け）

セリフごとに吹き出しの背景・左ボーダーをキャラクターで変え、誰の台詞かひと目でわかるようにする。

| キャラクター | 背景色 | 左ボーダー色 | 用途 |
|--------------|--------|--------------|------|
| カバ先生 | `#f2f2f2`（グレー） | `#888888` | 解説・まとめ |
| ユウタ | `#e6f4ff`（水色） | `#4da6ff` | 生徒（男子）の反応・質問 |
| ナナコ | `#ffe6f0`（薄ピンク） | `#e8a0b0` | 生徒（女子）の反応・確認 |

- インラインスタイル例（学習BOX 差し込み用）:
  - **カバ先生**: `style="background-color: #f2f2f2; padding: 15px; border-radius: 5px; border-left: 5px solid #888888; margin-bottom: 10px;"`
  - **ユウタ**: `style="background-color: #e6f4ff; padding: 15px; border-radius: 5px; border-left: 5px solid #4da6ff; margin-bottom: 10px;"`
  - **ナナコ**: `style="background-color: #ffe6f0; padding: 15px; border-radius: 5px; border-left: 5px solid #e8a0b0; margin-bottom: 10px;"`

---

### 5. 参考：インラインスタイル例（学習BOX 差し込み用）

- **最外枠**:  
  `style="max-width: 800px; margin: 0 auto; font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif; line-height: 1.6; color: #333; padding: 20px; border: 1px solid #eee; background-color: #fff;"`
- **h1**（左ラインなし）:  
  `style="padding-left: 10px; background-color: #f0f8ff; color: #0033ff; font-size: 24px; margin-bottom: 30px;"`
- **h2（基本）**（左ライン 5px のみ）:  
  `style="border-left: 5px solid #0033ff; padding-left: 10px; color: #0033ff; font-size: 18px; margin-bottom: 15px;"`
- **h2（応用・発展）**:  
  `style="border-left: 5px solid #cc0000; padding-left: 10px; color: #cc0000; font-size: 18px; margin-bottom: 15px;"`
- **h3**（小見出し）:  
  `style="padding-left: 10px; color: #0033ff; font-size: 16px; margin-top: 15px; margin-bottom: 10px;"`（直前にセクションがある場合は margin-top: 20px も可）
- **section**:  
  `style="margin-bottom: 30px;"`
- **hr**（セクション区切り）:  
  `style="border: none; border-top: 1px solid #ccc; margin: 1.5em 0;"`
- **code**（インライン）:  
  `style="font-family: monospace; background-color: #f5f5f5; padding: 1px 4px; border-radius: 3px;"`
- **pre（コードブロック）**:  
  `style="background-color: #fdf5e6; color: #333; padding: 15px; border-radius: 5px; border: 1px solid #e1dbbd; overflow-x: auto;"`（テキスト本編では `font-family: monospace` を追加してよい）
- **練習問題の区切り線**（問題文とヒントの間）:  
  `<div style="border-bottom: 1px solid #ccc; margin: 10px 0;"></div>`
- **ヒント summary**:  
  `style="cursor: pointer; font-weight: bold; color: #555;"`
- **解答例・答え summary**:  
  `style="cursor: pointer; font-weight: bold; color: #0033ff;"`
- **復習ボックス外側**:  
  `style="background-color: #f0f8ff; padding: 20px; border-radius: 5px; border-left: 5px solid #0033ff;"`
- **復習ボックス内側（白枠）**:  
  `style="margin: 15px 0; background-color: #fff; padding: 15px; border-radius: 10px; border: 1px solid #e1dbbd;"`

---

### 6. 概要ファイル（Overview）の構成とデザイン

概要ファイルは、その回の学習の入口として「必要な前提知識」「ポイント解説」「対象テキストのページ」「動画一覧」を一覧できるようにする。

#### 6.1 構成（必須のセクション）

- **HTMLファイルの1行目**： タイトルを**タグなしの文字列だけ**で挿入する。ファイルの一番最初の行に「【概要】 オブジェクト指向〇 ～テーマ～」のみを書き、2行目以降に <!DOCTYPE html> および本文を書く。フォーマットは「【概要】 オブジェクト指向① ～クラスについて～」に合わせる。

| 順序 | セクション名 | 内容 |
|------|----------------|------|
| 1 | **タイトル** | 1行目はタグなしの「【概要】 オブジェクト指向〇 ～テーマ～」。本文では h1 で「第N回：〇〇 〜サブタイトル〜」の形式。回数とテーマがひと目でわかるようにする。 |
| 2 | **1. 必要な前提知識** | その回を学ぶ前に押さえておく用語を箇条書きで列挙する。「用語： 説明」の形式でよい。 |
| 3 | **2. ポイント解説** | その回の重要概念を **💡 見出し** で区切り、短い説明と箇条書きで示す。複数ある場合は見出しごとにブロックを分ける。必要に応じて図のプレースホルダ（例：[Image of ...]）を入れてよい。 |
| 4 | **3. 対象テキストのページ** | 参照する教科書の章とページ範囲（例：Chapter 7：p.191 〜 p.210）。補足があれば※で注記する。 |
| 5 | **4. 動画一覧** | 視聴する動画をリスト形式で列挙する。各項目は **▶ 動画タイトル** とし、次の行または括弧内で短い説明を付ける。タイトルをクリックして再生できる形式を想定する。 |

#### 6.2 デザイン（スタイル適用）

- **最外枠・フォント**: テキスト・練習問題と同様に、`_Doc/4-デザインルール.md` の「5. 参考：インラインスタイル例」の最外枠・フォントを適用する（max-width: 800px、font-family 等）。
- **大タイトル（h1）**: 「第N回：〇〇 〜サブタイトル〜」には h1 を用い、**background-color**: `#f0f8ff`、**color**: `#0033ff`、**font-size**: `24px`、**padding-left**: `10px`、**margin-bottom**: `30px`。左ボーダーは付けない。
- **セクション見出し（h2）**: 「1. 必要な前提知識」「2. ポイント解説」などには h2 を用い、**border-left**: `5px solid #0033ff`、**padding-left**: `10px`、**color**: `#0033ff`、**font-size**: `18px`、**margin-bottom**: `15px`。
- **ポイント解説ブロック（💡 見出し＋本文）**: 重要概念ごとに、左ライン付きのブロックで囲む。**background-color**: `#f0f8ff`（または `#fff`）、**border-left**: `5px solid #0033ff`、**padding**: `15px～20px`、**border-radius**: `5px`、**margin-bottom**: `10px～15px`。見出しは「💡 〇〇は「〇〇」」のようにアイコン＋短いキャッチで統一する。
- **箇条書き**: 前提知識・ポイント解説内のリストは **padding-left**: `20px`、**margin** で余白を付ける。用語（private、Getter/Setter、コンストラクタなど）は **strong** または **code**（等幅・背景 `#f5f5f5`）で強調する。
- **対象テキストのページ**: 章・ページは太字や code で区別してもよい。※の補足は **font-size**: `14px`、**color**: `#555` 程度で控えめに。
- **動画一覧**: 各項目は **▶** のアイコン（または記号）＋**動画タイトル**（リンク想定）を一行目にし、説明文は次の行または同一行の括弧内。リスト全体のスタイルは **list-style**: なし、**padding-left**: `20px`、**margin-bottom**: `8px～12px` 程度でよい。

#### 6.3 概要ファイルの例（構造のみ）

```
第9回：オブジェクトの仕組み (1) 〜ロボットの保護と工場での初期設定〜

1. 必要な前提知識
　・ロボット（オブジェクト）： 箱と専門家をまとめたもの
　・設計図（クラス）： ロボットの作り方を書いたもの
　・new（工場スイッチ）： 設計図から実物のロボットを作る命令

2. ポイント解説

　💡 カプセル化は「ロボットの外装カバー」
　　（説明文）
　　・private（鍵付きカバー）： …
　　・Getter/Setter（窓口担当の専門家）： …

　💡 コンストラクタは「工場での初期設定」
　　（説明文）
　　・コンストラクタ： …

3. 対象テキストのページ
　Chapter 7：p.191 〜 p.210
　※特に this が「ロボット自身の箱」を指すことを意識して読み進めましょう。

4. 動画一覧
　▶ 99. オブジェクトとカプセル化 …（説明）
　▶ 93. コンストラクタとは …（説明）
　▶ 101. コンストラクタのオーバーロード …（説明）
```

- 題材が「自販機」の回では、概要内のたとえ（ロボット／工場）を「自販機／設置」などに置き換えて統一してよい。デザインルール（色・左ライン・余白）は上記に従う。
